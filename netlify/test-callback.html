<!DOCTYPE html>
<html>
<head>
    <title>OAuth Test Callback</title>
</head>
<body>
    <h1>OAuth Test Result</h1>
    <div id="result"></div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const code = urlParams.get('code');
        const state = urlParams.get('state');
        const error = urlParams.get('error');
        
        const resultDiv = document.getElementById('result');
        
        if (error) {
            resultDiv.innerHTML = `<p style="color: red;">❌ ERROR: ${error}</p>`;
        } else if (code) {
            resultDiv.innerHTML = `
                <p style="color: green;">✅ SUCCESS!</p>
                <p>Authorization code received: ${code.substring(0, 20)}...</p>
                <p>State: ${state}</p>
            `;
        } else {
            resultDiv.innerHTML = '<p style="color: orange;">⚠️ No code or error received</p>';
        }
        
        resultDiv.innerHTML += '<p><a href="test-login.html">Test Again</a></p>';
    </script>
</body>
</html>
